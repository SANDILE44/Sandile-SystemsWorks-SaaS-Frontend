<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Renewable Energy Calculators - Sandile SystemsWorks</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/calculators.css" />
  </head>
  <body>
    <!-- HEADER -->
    <header class="header">
      <div class="container">
        <div class="header-inner">
          <!-- BRAND -->
          <div class="brand">
            <img
              src="images/Untitled design.png"
              alt="Sandile SystemsWorks"
              class="brand-logo"
            />
            <span class="brand-name">Sandile SystemsWorks</span>
          </div>

          <!-- RIGHT ACTIONS -->
          <div class="header-actions">
            <button
              type="button"
              onclick="window.auth.logout()"
              class="btn btn-ghost"
            >
              Logout
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <main>
      <div class="breadcrumb">
        <a href="dashboard.html">Sectors</a>
        <span>→</span>
        <a href="sector-primary.html">Primary</a>
        <span>→</span>
        <span>Renewable Energy</span>
      </div>

      <h1>Renewable Energy Calculators</h1>
      <p>
        Calculate costs, revenue, and ROI for renewable energy projects like
        solar and wind installations.
      </p>

      <!-- CALCULATOR -->
      <div class="calculator-container">
        <h2>Renewable Energy Project Calculator</h2>
        <p>
          Analyze project costs, annual revenue/savings, profit, ROI, and
          payback period.
        </p>

        <div class="calculator-grid">
          <!-- INPUTS -->
          <div class="input-section">
            <h3>Inputs</h3>

            <div class="input-group">
              <label for="energy-capacity">System Capacity (kW)</label>
              <input
                type="number"
                id="energy-capacity"
                placeholder="System capacity"
              />
            </div>

            <div class="input-group">
              <label for="energy-install">Installation Cost (R)</label>
              <input
                type="number"
                id="energy-install"
                placeholder="Total setup cost"
              />
            </div>

            <div class="input-group">
              <label for="energy-maintenance"
                >Annual Maintenance Costs (R)</label
              >
              <input
                type="number"
                id="energy-maintenance"
                placeholder="Maintenance/year"
              />
            </div>

            <div class="input-group">
              <label for="energy-revenue">Annual Revenue / Savings (R)</label>
              <input
                type="number"
                id="energy-revenue"
                placeholder="Revenue or electricity savings"
              />
            </div>

            <div class="input-group">
              <label for="energy-life">System Lifetime (Years)</label>
              <input
                type="number"
                id="energy-life"
                placeholder="Expected operational years"
              />
              <button
                type="button"
                id="resetBtn"
                onclick="resetEnergyCalculator()"
              >
                Reset All
              </button>
            </div>
          </div>

          <!-- OUTPUTS -->
          <div class="output-section">
            <h3>Results</h3>

            <div class="output-group">
              <div class="output-label">Total Costs</div>
              <div class="output-value" id="energy-total-costs">R0.00</div>
            </div>

            <div class="output-group">
              <div class="output-label">Total Revenue / Savings</div>
              <div class="output-value" id="energy-total-revenue">R0.00</div>
            </div>

            <div class="output-group">
              <div class="output-label">Profit / Loss</div>
              <div class="output-value" id="energy-profit">R0.00</div>
            </div>

            <div class="output-group">
              <div class="output-label">ROI (%)</div>
              <div class="output-value" id="energy-roi">0.00%</div>
            </div>

            <div class="output-group">
              <div class="output-label">Annual Payback (Years)</div>
              <div class="output-value" id="energy-payback">0</div>
            </div>
          </div>
        </div>
      </div>
      <!-- ================================
   SECTORS & INDUSTRIES NAVIGATION
================================ -->
      <div class="sectors-navigation">
        <h2>Explore All Sectors & Industries</h2>
        <p>
          Jump to any sector or industry calculators to quickly compare and
          analyze multiple business areas.
        </p>

        <div class="sectors-grid">
          <!-- Primary Sector -->
          <div class="sector-group">
            <h3>Primary Sector</h3>
            <ul>
              <li><a href="industry-agriculture.html">Agriculture</a></li>
              <li><a href="industry-forestry.html">Forestry</a></li>
              <li><a href="industry-fishing.html">Fishing</a></li>
              <li><a href="industry-mining.html">Mining</a></li>
              <li><a href="industry-oil-gas.html">Oil & Gas</a></li>
              <li>
                <a href="industry-renewable-energy.html">Renewable Energy</a>
              </li>
            </ul>
          </div>

          <!-- Secondary Sector -->
          <div class="sector-group">
            <h3>Secondary Sector</h3>
            <ul>
              <li><a href="industry-manufacturing.html">Manufacturing</a></li>
              <li><a href="industry-construction.html">Construction</a></li>
              <li><a href="industry-automotive.html">Automotive</a></li>
              <li><a href="industry-electronics.html">Electronics</a></li>
              <li><a href="industry-textiles.html">Textiles</a></li>
              <li><a href="industry-food-beverage.html">Food & Beverage</a></li>
            </ul>
          </div>

          <!-- Tertiary Sector -->
          <div class="sector-group">
            <h3>Tertiary Sector</h3>
            <ul>
              <li><a href="industry-real-estate.html">Real Estate</a></li>
              <li><a href="industry-retail.html">Retail</a></li>
              <li><a href="industry-restaurants.html">Restaurants</a></li>
              <li><a href="industry-hospitality.html">Hospitality</a></li>
              <li><a href="industry-logistics.html">Logistics</a></li>
              <li><a href="industry-healthcare.html">Healthcare</a></li>
              <li><a href="industry-education.html">Education</a></li>
              <li><a href="industry-finance.html">Finance</a></li>
              <li><a href="industry-marketing.html">Marketing</a></li>
              <li><a href="industry-consulting.html">Consulting</a></li>
            </ul>
          </div>

          <!-- Quaternary Sector -->
          <div class="sector-group">
            <h3>Quaternary Sector</h3>
            <ul>
              <li><a href="industry-software.html">Software</a></li>
              <li><a href="industry-saas.html">SaaS</a></li>
              <li><a href="industry-it-services.html">IT Services</a></li>
              <li><a href="industry-media.html">Media</a></li>
              <li><a href="industry-research-development.html">R&D</a></li>
              <li>
                <a href="industry-telecommunications.html"
                  >Telecommunications</a
                >
              </li>
            </ul>
          </div>

          <!-- Quinary Sector -->
          <div class="sector-group">
            <h3>Quinary Sector</h3>
            <ul>
              <li><a href="industry-government.html">Government</a></li>
              <li><a href="industry-ngos.html">NGOs</a></li>
              <li>
                <a href="industry-social-services.html"
                  >Social & Community Services</a
                >
              </li>
              <li>
                <a href="industry-public-administration.html"
                  >Public Administration</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
    </main>

    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script>
      window.auth.requireAccess(); // no token -> login, no access -> payment
    </script>

    <!-- SCRIPT -->
    <script src="calculators.js"></script>
    <script>
      class RenewableEnergyCalculator {
        calculate(capacity, installCost, maintenance, revenue, life) {
          capacity = Number(capacity) || 0;
          installCost = Number(installCost) || 0;
          maintenance = Number(maintenance) || 0;
          revenue = Number(revenue) || 0;
          life = Number(life) || 1;

          const totalCosts = installCost + maintenance * life;
          const totalRevenue = revenue * life;
          const profitLoss = totalRevenue - totalCosts;
          const roi = totalCosts === 0 ? 0 : (profitLoss / totalCosts) * 100;
          const paybackYears = revenue > 0 ? installCost / revenue : 0;
          const annualProfit = profitLoss / life;

          return {
            totalCosts,
            totalRevenue,
            profitLoss,
            roi,
            paybackYears,
            annualProfit,
          };
        }
      }

      const energyCalc = new RenewableEnergyCalculator();
      const energyInputs = [
        "energy-capacity",
        "energy-install",
        "energy-maintenance",
        "energy-revenue",
        "energy-life",
      ];

      energyInputs.forEach((id) => {
        document
          .getElementById(id)
          .addEventListener("input", updateEnergyCalculator);
      });

      function formatCurrency(value) {
        return (
          "R" +
          Number(value).toLocaleString(undefined, {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2,
          })
        );
      }

      function formatPercentage(value) {
        return Number(value).toFixed(2) + "%";
      }

      function updateEnergyCalculator() {
        const result = energyCalc.calculate(
          document.getElementById("energy-capacity").value,
          document.getElementById("energy-install").value,
          document.getElementById("energy-maintenance").value,
          document.getElementById("energy-revenue").value,
          document.getElementById("energy-life").value,
        );

        document.getElementById("energy-total-costs").textContent =
          formatCurrency(result.totalCosts);
        document.getElementById("energy-total-revenue").textContent =
          formatCurrency(result.totalRevenue);

        const profitEl = document.getElementById("energy-profit");
        profitEl.textContent = formatCurrency(result.profitLoss);
        profitEl.className =
          "output-value " + (result.profitLoss >= 0 ? "positive" : "negative");

        document.getElementById("energy-roi").textContent = formatPercentage(
          result.roi,
        );
        document.getElementById("energy-payback").textContent =
          result.paybackYears.toFixed(1);

        // Optional annual profit display
        if (!document.getElementById("energy-annual-profit")) {
          const annualDiv = document.createElement("div");
          annualDiv.className = "output-group";
          annualDiv.innerHTML = `<div class="output-label">Annual Profit (R)</div>
                             <div class="output-value" id="energy-annual-profit">${formatCurrency(result.annualProfit)}</div>`;
          document.querySelector(".output-section").appendChild(annualDiv);
        } else {
          document.getElementById("energy-annual-profit").textContent =
            formatCurrency(result.annualProfit);
        }
      }

      function resetEnergyCalculator() {
        energyInputs.forEach((id) => (document.getElementById(id).value = ""));
        updateEnergyCalculator();
      }

      function updateEnergyCalculator() {
        const capacity =
          Number(document.getElementById("energy-capacity").value) || 0;

        const result = energyCalc.calculate(
          capacity,
          document.getElementById("energy-install").value,
          document.getElementById("energy-maintenance").value,
          document.getElementById("energy-revenue").value,
          document.getElementById("energy-life").value,
        );

        document.getElementById("energy-total-costs").textContent =
          formatCurrency(result.totalCosts);
        document.getElementById("energy-total-revenue").textContent =
          formatCurrency(result.totalRevenue);

        const profitEl = document.getElementById("energy-profit");
        profitEl.textContent = formatCurrency(result.profitLoss);
        profitEl.className =
          "output-value " + (result.profitLoss >= 0 ? "positive" : "negative");

        document.getElementById("energy-roi").textContent = formatPercentage(
          result.roi,
        );
        document.getElementById("energy-payback").textContent =
          result.paybackYears.toFixed(1);

        // Optional outputs using capacity
        const costPerKW = capacity ? result.totalCosts / capacity : 0;
        const revenuePerKW = capacity ? result.totalRevenue / capacity : 0;
        const profitPerKW = capacity ? result.profitLoss / capacity : 0;

        // Create extra output if not exist
        if (!document.getElementById("energy-cost-per-kw")) {
          const outSec = document.querySelector(".output-section");

          ["Cost per kW", "Revenue per kW", "Profit per kW"].forEach(
            (label, i) => {
              const div = document.createElement("div");
              div.className = "output-group";
              div.innerHTML = `<div class="output-label">${label}</div>
                       <div class="output-value" id="energy-${label.toLowerCase().replace(/\s/g, "-")}">R0.00</div>`;
              outSec.appendChild(div);
            },
          );
        }

        document.getElementById("energy-cost-per-kw").textContent =
          formatCurrency(costPerKW);
        document.getElementById("energy-revenue-per-kw").textContent =
          formatCurrency(revenuePerKW);
        document.getElementById("energy-profit-per-kw").textContent =
          formatCurrency(profitPerKW);
      }

      // Initialize default
      updateEnergyCalculator();
    </script>
    <script>
      const hamburger = document.getElementById("hamburger");
      const sideNav = document.getElementById("sideNav");

      if (hamburger && sideNav) {
        hamburger.addEventListener("click", () => {
          hamburger.classList.toggle("active");
          sideNav.classList.toggle("active");
          document.body.style.overflow = sideNav.classList.contains("active")
            ? "hidden"
            : "";
        });

        document.querySelectorAll("#sideNav a").forEach((link) => {
          link.addEventListener("click", () => {
            hamburger.classList.remove("active");
            sideNav.classList.remove("active");
            document.body.style.overflow = "";
          });
        });
      }
    </script>
  </body>
</html>
